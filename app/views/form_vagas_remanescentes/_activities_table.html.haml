%table.table.table-condensed{:style => "border-bottom: 2px black solid;"}
  %tbody
    %tr.danger
      %td{:colspan => "4"}
        %h5
          Você deve comprovar abaixo, no mínimo,
          %em
            %b #{table_info[:workload]} horas
          de atividades em disciplinas básicas de Engenharia.
      %td.text-danger{:colspan => "2"}
        %h5
          Total:
          %span.m-l
            %b 20h
    %tr.black
      %th{:style => "width:25%"} Disciplinas Univesp
      %th{:style => "width:40%"} Disciplina cursada em outra instituição
      %th{:style => "width:10%"} Carga Horária
      %th{:style => "width:10%"} Anexar Ementa
      %th{:style => "width:10%"} Anexar Programa
      %th
    - table_info[:activities].each do |activity|
      %tr.activities-row
        %td
          %input.form-control.ids-activities{:type => "hidden", :value => "#{activity[:value]}"}/      
          = activity[:text]
        %td
          %input.form-control.external-activities{:type => "text"}/
        %td
          %input.form-control.external-workloads{:type => "number"}/
        %td
          .image-upload  
            %label.btn.btn-default{:for => "#{table_info[:type]}-syllabus-#{activity[:value]}"}
              %span.fa.fa-paperclip
              %span.label-upload ementa
            %input.attachs-activities{:id => "#{table_info[:type]}-syllabus-#{activity[:value]}", :type => "file", :onchange => "uploadFileActivity(this);" }/
        %td
          .image-upload
            %label.btn.btn-default{:for => "#{table_info[:type]}-program-#{activity[:value]}"}
              %span.fa.fa-paperclip
              %span.label-upload programa
            %input.attachs-activities{:id => "#{table_info[:type]}-program-#{activity[:value]}", :type => "file", :onchange => "uploadFileActivity(this);" }/
        %td
          %input.clear-row{:type => "button", :value => "X"}/

:javascript
  $(".activities-row input").on("blur", function() {   
    blurTr($(this).closest("tr"));
  }); 
 
  $(".clear-row").on("click", function() {
    var tr = $(this).closest("tr");
    $(tr).removeClass("active");
    $(tr).removeClass("success");

    $(tr).find(".check-activities").prop("checked", false);   
    $(tr).find(".external-activities").val(""); 
    $(tr).find(".external-workloads").val("");

    $(tr).find(".attachs-activities").each(function(index, ctrl) {
      var ctrlAttachId = $(ctrl).attr('id');
      console.log(ctrlAttachId);
      var ctrlAttachParent = $("#" + ctrlAttachId).parent();
      $("#" + ctrlAttachId).remove();
      $(ctrlAttachParent).append("<input type='file' id='" + ctrlAttachId + "' class='attachs-activities' onchange='uploadFileActivity(this);' />");
    });

    $(tr).find(".fa").addClass("fa-paperclip");
    $($(tr).find(".label-upload")[0]).html(" ementa");
    $($(tr).find(".label-upload")[1]).html(" programa");
    $(tr).find("label").removeClass("green");
  });  
 
